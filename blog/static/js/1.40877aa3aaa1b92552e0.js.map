{"version":3,"sources":["webpack:///src/pages/inputphone/index.vue","webpack:///./src/pages/inputphone/index.vue?a1e9","webpack:///./src/pages/inputphone/index.vue"],"names":["inputphone","created","mounted","components","data","inputStr","ct","computed","ctSize","this","length","cIndex","i","findIndex","item","lastCode","watch","resetCaret","val","console","log","methods","onInput","index","e","replace","onKeydown","$refs","input","focus","onFocus","reset","map","pages_inputphone","render","_vm","_h","$createElement","_c","_self","staticClass","_l","c","directives","name","rawName","value","expression","key","ref","refInFor","attrs","type","domProps","on","$event","target","composing","$set","keydown","indexOf","_k","keyCode","_v","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qGA+BA,IAAAA,GACAC,QADA,aAEAC,QAAA,aACAC,cACAC,KAJA,WAKA,OACAC,SAAA,GACAC,IAAA,eAGAC,UACAC,OADA,WAEA,OAAAC,KAAAH,GAAAI,QAEAC,OAJA,WAKA,IAAAC,EAAAH,KAAAH,GAAAO,UAAA,SAAAC,GAAA,WAAAA,IAEA,OADAF,KAAAH,KAAAD,QAAAC,KAAAD,QAGAO,SATA,WAUA,OAAAN,KAAAH,GAAAG,KAAAD,OAAA,KAGAQ,OAMAL,OANA,WAOAF,KAAAQ,cAGAF,SAVA,SAUAG,GACAA,EACAC,QAAAC,IAAA,iBAAAF,GAIAC,QAAAC,IAAA,oBAAAF,KAMAG,SAWAC,QAXA,SAWAJ,EAAAK,EAAAC,GACAN,IAAAO,QAAA,aACAhB,KAAAH,GAAAiB,GAAAL,GAuBAQ,UApCA,SAoCAR,EAAAK,EAAAC,GAOA,KAAAN,GAEAK,EAAA,IACAd,KAAAH,GAAAiB,EAAA,MACAd,KAAAkB,MAAAC,MAAAL,EAAA,GAAAM,UAKAC,QApDA,WAsDA,IAAAP,EAAAd,KAAAH,GAAAO,UAAA,SAAAC,GAAA,WAAAA,IACAS,KAAAd,KAAAD,QAAAC,KAAAD,OACAW,QAAAC,IAAAX,KAAAkB,MAAAC,MAAAL,GACAd,KAAAkB,MAAAC,MAAAL,GAAAM,SAGAE,MA5DA,WA6DAtB,KAAAH,GAAAG,KAAAH,GAAA0B,IAAA,SAAAlB,GAAA,WACAL,KAAAQ,cAGAA,WAjEA,WAkEAR,KAAAkB,MAAAC,MAAAnB,KAAAD,OAAA,GAAAqB,WCvIeI,GADEC,OANjB,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,qBAA+BL,EAAAM,GAAAN,EAAA,YAAAO,EAAAnB,GAAoC,OAAAe,EAAA,SAAmBK,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAX,EAAA7B,GAAAiB,GAAAwB,WAAA,cAA4EC,IAAAzB,EAAA0B,IAAA,QAAAC,UAAA,EAAAV,YAAA,YAAAW,OAAqEC,KAAA,OAAaC,UAAWP,MAAAX,EAAA7B,GAAAiB,IAAwB+B,IAAK1B,OAAA,SAAA2B,GAA0BA,EAAAC,OAAAC,WAAsCtB,EAAAuB,KAAAvB,EAAA7B,GAAAiB,EAAAgC,EAAAC,OAAAV,QAA6C,SAAAtB,GAChgBW,EAAAb,QAAAE,EAAAgC,OAAAV,MAAAvB,EAAAC,KACamC,QAAA,SAAAJ,GAA6B,OAAAA,EAAAH,KAAAQ,QAAA,QAAAzB,EAAA0B,GAAAN,EAAAO,QAAA,gBAAAP,EAAAP,KAAA,6BAAgH,MAAexB,EAE5J+B,OADbpB,EAAAT,UAAAF,EAAAgC,OAAAV,MAAAvB,EAAAC,IADyK,IAAAA,GAElJK,MAAAM,EAAAL,aAAwBK,EAAA4B,GAAA,KAAAzB,EAAA,MAAuBE,YAAA,WAAsBL,EAAAM,GAAAN,EAAA,YAAAvB,EAAAW,GAAmC,OAAAe,EAAA,MAAgBU,IAAAzB,EAAAiB,YAAA,YAAgCL,EAAA4B,GAAA,iBAAA5B,EAAA6B,GAAA7B,EAAA7B,GAAAiB,IAAA,kBAAgE,QAE9N0C,oBCHjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEpE,EACAiC,GATF,EAVA,SAAAoC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/1.40877aa3aaa1b92552e0.js","sourcesContent":["<template>\r\n    <div class=\"password-wrapper\">\r\n        <input\r\n            v-for=\"(c, index) in ct\"\r\n            :key=\"index\"\r\n            type=\"tel\"\r\n            class=\"input-box\"\r\n            v-model=\"ct[index]\"\r\n            ref=\"input\"\r\n            @input=\"\r\n                (e) => {\r\n                    onInput(e.target.value, index, e);\r\n                }\r\n            \"\r\n            @keydown.delete=\"\r\n                (e) => {\r\n                    onKeydown(e.target.value, index, e);\r\n                }\r\n            \"\r\n            @focus=\"onFocus\"\r\n        />\r\n        <ul class=\"show-ul\">\r\n            <li class=\"show-li\" v-for=\"(i, index) in ct\" :key=\"index\">\r\n                {{ ct[index] }}\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-tabs */\r\nexport default {\r\n  created () {},\r\n  mounted: function () {},\r\n  components: {},\r\n  data () {\r\n    return {\r\n      inputStr: '',\r\n      ct: ['', '', '', '']\r\n    }\r\n  },\r\n  computed: {\r\n    ctSize () {\r\n      return this.ct.length\r\n    },\r\n    cIndex () {\r\n      let i = this.ct.findIndex((item) => item === '')\r\n      i = (i + this.ctSize) % this.ctSize\r\n      return i\r\n    },\r\n    lastCode () {\r\n      return this.ct[this.ctSize - 1]\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听手机号变化\r\n    // phoneMask() {\r\n    // \tconsole.log('phoneMask变化: ', this.phoneMask);\r\n    // \tthis.phoneMaskData = this.phoneMask;\r\n    // },\r\n    cIndex () {\r\n      this.resetCaret()\r\n    },\r\n    // 监听输入的最后一位\r\n    lastCode (val) {\r\n      if (val) {\r\n        console.log('lastCode one: ', val)\r\n        // this.$refs.input[this.ctSize - 1].blur()\r\n        // this.sendPhoneNum(true)\r\n      } else {\r\n        console.log('no lastCode one: ', val)\r\n        // 删除最后一位时回调false，按钮置灰\r\n        // this.sendPhoneNum(false)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // inputNumber (res) {\r\n    //   console.log(res)\r\n    //   if (this.ct.length < 6 && res.key !== 'Backspace') {\r\n    //     this.ct.push(res.key)\r\n    //   }\r\n    //   if (res.key === 'Backspace') {\r\n    //     this.ct.pop()\r\n    //   }\r\n    // },\r\n    // 监听输入\r\n    onInput (val, index, e) {\r\n      val = val.replace(/[^\\d]/g, '')\r\n      this.ct[index] = val\r\n      // console.log('onInput: ', val, e, val[val.length - 1], e.inputType.indexOf('insert'))\r\n      // // this.msg = '';\r\n      // // let inputValue = val[val.length - 1]\r\n      // // inputValue = inputValue.replace(/[^\\d]/g, '')\r\n      // // // this.ct[index] = val\r\n      // // // this.ct[val.length - 1] = inputValue\r\n      // // this.ct.push(inputValue)\r\n      // try {\r\n      //   // let inputValue = val[val.length - 1]\r\n      //   let inputValue = e.data\r\n      //   inputValue = inputValue && inputValue.replace(/[^\\d]/g, '')\r\n      //   this.inputStr = this.inputStr.replace(/[^\\d]/g, '')\r\n      //   if (e.inputType.indexOf('insert') !== -1 && inputValue && this.ct.length < 6) {\r\n      //     this.ct.push(inputValue)\r\n      //   } else if (e.inputType.indexOf('Back') !== -1 && this.ct.length >= 0) {\r\n      //     this.ct.pop()\r\n      //   }\r\n      // } catch (err) {\r\n      //   console.log(err)\r\n      // }\r\n    },\r\n    // 删除\r\n    onKeydown (val, index, e) {\r\n      // console.log('onKeydown: ', val, e)\r\n      // // 删除上一个input里的值，并对其focus。\r\n      // if (val.length > 0) {\r\n      //   this.ct[val.length - 1] = ''\r\n      //   // this.ct.pop()\r\n      // }\r\n      if (val === '') {\r\n        // 删除上一个input里的值，并对其focus。\r\n        if (index > 0) {\r\n          this.ct[index - 1] = ''\r\n          this.$refs.input[index - 1].focus()\r\n        }\r\n      }\r\n    },\r\n    // 聚焦\r\n    onFocus () {\r\n      // 监听 focus 事件，将光标重定位到“第一个空白符的位置”。\r\n      let index = this.ct.findIndex((item) => item === '')\r\n      index = (index + this.ctSize) % this.ctSize\r\n      console.log(this.$refs.input, index)\r\n      this.$refs.input[index].focus()\r\n    },\r\n    // 重置，需要重置时触发（暂没用到，若需要可保留）\r\n    reset () {\r\n      this.ct = this.ct.map((item) => '')\r\n      this.resetCaret()\r\n    },\r\n    // 重置光标位置（没用到，暂保留）\r\n    resetCaret () {\r\n      this.$refs.input[this.ctSize - 1].focus()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n.password-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    .input-box {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        color: transparent;\r\n        opacity: 0;\r\n        // width: 100%;\r\n        // visibility: hidden;\r\n    }\r\n    .show-ul {\r\n        flex: 1;\r\n        display: flex;\r\n        height: 50px;\r\n        background-color: #fff;\r\n        border: 1px solid #ccc;\r\n        border-radius: 5px;\r\n        .show-li {\r\n            flex: 1;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            border-right: 1px solid #ccc;\r\n            &:last-child {\r\n                border-right: none;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/inputphone/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"password-wrapper\"},[_vm._l((_vm.ct),function(c,index){return _c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ct[index]),expression:\"ct[index]\"}],key:index,ref:\"input\",refInFor:true,staticClass:\"input-box\",attrs:{\"type\":\"tel\"},domProps:{\"value\":(_vm.ct[index])},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.ct, index, $event.target.value)},function (e) {\n                _vm.onInput(e.target.value, index, e);\n            }],\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"])){ return null; }return (function (e) {\n                _vm.onKeydown(e.target.value, index, e);\n            })($event)},\"focus\":_vm.onFocus}})}),_vm._v(\" \"),_c('ul',{staticClass:\"show-ul\"},_vm._l((_vm.ct),function(i,index){return _c('li',{key:index,staticClass:\"show-li\"},[_vm._v(\"\\n            \"+_vm._s(_vm.ct[index])+\"\\n        \")])}),0)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8ee08bae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/inputphone/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8ee08bae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8ee08bae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8ee08bae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/inputphone/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}